(()=>{var e={};e.id=38,e.ids=[38],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5236:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(44789);let s=()=>(0,a.jsxs)("footer",{className:"bg-white dark:bg-slate-800 text-center text-xs py-4 text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700",children:["\xa9 ",new Date().getFullYear()," LETTERDROP Dashboard. All rights reserved."]}),o=()=>(0,a.jsxs)("nav",{className:"bg-white dark:bg-slate-800 shadow px-6 py-4 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-xl font-semibold tracking-wide text-primary dark:text-white",children:"LETTERDROP Dashboard"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Admin"}),(0,a.jsx)("button",{className:"bg-primary text-white px-3 py-1 rounded hover:opacity-90 transition",children:"Logout"})]})]});var n=r(87976),d=r.n(n);function i(){return(0,a.jsxs)("aside",{className:"w-64 bg-gray-900 text-white p-4",children:[(0,a.jsx)("h1",{className:"text-xl font-bold mb-6",children:"Dashboard"}),(0,a.jsxs)("nav",{className:"flex flex-col gap-2",children:[(0,a.jsx)(d(),{href:"/dashboard",children:"Overview"}),(0,a.jsx)(d(),{href:"/dashboard/blogs",children:"Blogs"}),(0,a.jsx)(d(),{href:"/dashboard/categories",children:"Categories"})]})]})}function l({children:e}){return(0,a.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,a.jsx)(i,{}),(0,a.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,a.jsx)(o,{}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-100 dark:bg-slate-900",children:e}),(0,a.jsx)(s,{})]})]})}},5534:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,87976,23))},7806:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(55547).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/janet/Desktop/web/Letterdrop-App/src/components/editCategory.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/janet/Desktop/web/Letterdrop-App/src/components/editCategory.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12406:(e,t,r)=>{Promise.resolve().then(r.bind(r,90988))},12522:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>a});let a=(0,r(55547).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/janet/Desktop/web/Letterdrop-App/src/components/ui/sonner.tsx","Toaster")},15364:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var a=r(21551),s=r(70794);function o({id:e,initialName:t,action:r}){let[o,n]=(0,s.useState)(!1),[d,i]=(0,s.useState)(t),l=async t=>{t.set("id",e.toString()),t.set("categoryName",d),await r(t),n(!1),window.location.reload()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>n(!0),className:"bg-yellow-500 text-white px-3 py-1 rounded",children:"Edit"}),o&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg w-96",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Edit Category"}),(0,a.jsxs)("form",{action:l,className:"flex flex-col gap-4",children:[(0,a.jsx)("input",{name:"categoryName",value:d,onChange:e=>i(e.target.value),className:"border px-3 py-2 rounded",required:!0}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>n(!1),className:"bg-gray-300 text-black px-4 py-2 rounded",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Save"})]})]})]})})]})}},18530:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{$$RSC_SERVER_ACTION_0:()=>h,$$RSC_SERVER_ACTION_1:()=>m,$$RSC_SERVER_ACTION_2:()=>x,default:()=>b});var s=r(44789),o=r(23650),n=r(64618),d=r(75845),i=r(24942),l=r(52959),c=r(44291),u=r(7806),p=e([d,c]);[d,c]=p.then?(await p)():p;let h=async function(e){await (0,c.zZ)(null,e),(0,l.revalidatePath)("/dashboard/categories")},m=async function(e){await (0,c.st)(null,e),(0,l.revalidatePath)("/dashboard/categories")},x=async function(e){var[t]=await (0,n.decryptActionBoundArgs)("409eb660156848630024827ba1bc25390cae9f7bb4",e);await (0,c.O$)(t),(0,l.revalidatePath)("/dashboard/categories")};async function b(){let e=await d.db.select().from(i.blogCategory);return(0,s.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Categories"}),(0,s.jsxs)("form",{action:(0,o.A)(h,"40df1fa05e361f57bf780c85d13cca0eec45385ad0",null),className:"flex gap-2 mb-6",children:[(0,s.jsx)("input",{name:"categoryName",placeholder:"New category",className:"border px-3 py-2 rounded w-full",required:!0}),(0,s.jsx)("button",{type:"submit",className:"bg-primary dark:bg-slate-700 text-white px-4 py-2 rounded",children:"Add"})]}),(0,s.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-200",children:[(0,s.jsx)("th",{className:"border px-4 py-2",children:"Category"}),(0,s.jsx)("th",{className:"border px-4 py-2",colSpan:2,children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:"border-b",children:[(0,s.jsx)("td",{className:"px-4 py-2",children:e.categoryName}),(0,s.jsx)("td",{className:"px-4 py-2",colSpan:2,children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(u.default,{id:e.id,initialName:e.categoryName,action:(0,o.A)(m,"4026c6faf4fff534480a8edefb0f35092e10ba7d9b",null)}),(0,s.jsx)("form",{action:(0,o.A)(x,"409eb660156848630024827ba1bc25390cae9f7bb4",null).bind(null,(0,n.encryptActionBoundArgs)("409eb660156848630024827ba1bc25390cae9f7bb4",e.id)),children:(0,s.jsx)("button",{type:"submit",className:"bg-red-600 text-white px-3 py-1 rounded",children:"Delete"})})]})})]},e.id))})]})]})}a()}catch(e){a(e)}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24942:(e,t,r)=>{"use strict";r.r(t),r.d(t,{account:()=>b,blogCategory:()=>m,blogCategoryRelations:()=>v,blogs:()=>x,blogsRelations:()=>y,schema:()=>f,session:()=>p,user:()=>u,usersRelations:()=>g,verification:()=>h});var a=r(88029),s=r(41664),o=r(54979),n=r(49063),d=r(79307),i=r(31370),l=r(56673),c=r(63892);let u=(0,a.cJ)("user",{id:(0,s.Qq)("id").primaryKey(),name:(0,s.Qq)("name").notNull(),email:(0,s.Qq)("email").notNull().unique(),emailVerified:(0,o.zM)("email_verified").$defaultFn(()=>!1).notNull(),image:(0,s.Qq)("image"),createdAt:(0,n.vE)("created_at").$defaultFn(()=>new Date).notNull(),updatedAt:(0,n.vE)("updated_at").$defaultFn(()=>new Date).notNull()}),p=(0,a.cJ)("session",{id:(0,s.Qq)("id").primaryKey(),expiresAt:(0,n.vE)("expires_at").notNull(),token:(0,s.Qq)("token").notNull().unique(),createdAt:(0,n.vE)("created_at").notNull(),updatedAt:(0,n.vE)("updated_at").notNull(),ipAddress:(0,s.Qq)("ip_address"),userAgent:(0,s.Qq)("user_agent"),userId:(0,s.Qq)("user_id").notNull().references(()=>u.id,{onDelete:"cascade"})}),b=(0,a.cJ)("account",{id:(0,s.Qq)("id").primaryKey(),accountId:(0,s.Qq)("account_id").notNull(),providerId:(0,s.Qq)("provider_id").notNull(),userId:(0,s.Qq)("user_id").notNull().references(()=>u.id,{onDelete:"cascade"}),accessToken:(0,s.Qq)("access_token"),refreshToken:(0,s.Qq)("refresh_token"),idToken:(0,s.Qq)("id_token"),accessTokenExpiresAt:(0,n.vE)("access_token_expires_at"),refreshTokenExpiresAt:(0,n.vE)("refresh_token_expires_at"),scope:(0,s.Qq)("scope"),password:(0,s.Qq)("password"),createdAt:(0,n.vE)("created_at").notNull(),updatedAt:(0,n.vE)("updated_at").notNull()}),h=(0,a.cJ)("verification",{id:(0,s.Qq)("id").primaryKey(),identifier:(0,s.Qq)("identifier").notNull(),value:(0,s.Qq)("value").notNull(),expiresAt:(0,n.vE)("expires_at").notNull(),createdAt:(0,n.vE)("created_at").$defaultFn(()=>new Date),updatedAt:(0,n.vE)("updated_at").$defaultFn(()=>new Date)}),m=(0,a.cJ)("blog_category",{id:(0,d.vX)("id").primaryKey(),categoryName:(0,i.yf)("category_name",{length:255}).notNull(),createdAt:(0,n.vE)("created_at").notNull().defaultNow(),updatedAt:(0,n.vE)("updated_at").notNull().defaultNow().$onUpdate(()=>new Date)}),x=(0,a.cJ)("blogs",{id:(0,d.vX)("id").primaryKey(),title:(0,i.yf)("title",{length:500}).notNull(),content:(0,s.Qq)("content").notNull(),createdAt:(0,n.vE)("created_at").notNull().defaultNow(),updatedAt:(0,n.vE)("updated_at").notNull().defaultNow().$onUpdate(()=>new Date),categoryId:(0,l.nd)("category_id").references(()=>m.id,{onDelete:"set null"})}),f={user:u,session:p,account:b,verification:h},g=(0,c.K1)(u,({many:e})=>({blogs:e(x)})),v=(0,c.K1)(m,({many:e})=>({blogs:e(x)})),y=(0,c.K1)(x,({one:e})=>({category:e(m,{fields:[x.categoryId],references:[m.id]})}))},25555:()=>{},28568:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var a=r(6855),s=r(99880),o=r(44858),n=r.n(o),d=r(84637),i={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);r.d(t,i);let l={children:["",{children:["dashboard",{children:["categories",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,18530)),"/home/janet/Desktop/web/Letterdrop-App/src/app/dashboard/categories/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5236)),"/home/janet/Desktop/web/Letterdrop-App/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,78071)),"/home/janet/Desktop/web/Letterdrop-App/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,89254,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,55007,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,42260,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/janet/Desktop/web/Letterdrop-App/src/app/dashboard/categories/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/dashboard/categories/page",pathname:"/dashboard/categories",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30138:(e,t,r)=>{Promise.resolve().then(r.bind(r,15364))},33873:e=>{"use strict";e.exports=require("path")},44291:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{O$:()=>u,st:()=>p,zZ:()=>c});var s=r(23650);r(64618);var o=r(95384),n=r(24942),d=r(75845),i=r(22230),l=e([d]);async function c(e,t){let r=t.get("categoryName");return(console.log(r),r)?(await d.db.insert(n.blogCategory).values({categoryName:r}),{success:!0}):{error:"Name required"}}async function u(e){await d.db.delete(n.blogCategory).where((0,o.eq)(n.blogCategory.id,e))}async function p(e,t){let r=t.get("id"),a=t.get("categoryName");return r&&a?(await d.db.update(n.blogCategory).set({categoryName:a.toString()}).where((0,o.eq)(n.blogCategory.id,Number(r))),{success:!0}):{error:"Missing data"}}d=(l.then?(await l)():l)[0],(0,i.D)([c,u,p]),(0,s.A)(c,"60bc1e2f790518b2423a66f35c5017184a7960506e",null),(0,s.A)(u,"4085f83f7bb410cfec30724e27845509014d309f90",null),(0,s.A)(p,"6014cb3b5be71f4634d99db1b259fd1e47855f72b1",null),a()}catch(e){a(e)}})},49358:(e,t,r)=>{Promise.resolve().then(r.bind(r,12522))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64939:e=>{"use strict";e.exports=import("pg")},64940:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2796,23)),Promise.resolve().then(r.t.bind(r,47514,23)),Promise.resolve().then(r.t.bind(r,44858,23)),Promise.resolve().then(r.t.bind(r,7893,23)),Promise.resolve().then(r.t.bind(r,83825,23)),Promise.resolve().then(r.t.bind(r,169,23)),Promise.resolve().then(r.t.bind(r,45889,23)),Promise.resolve().then(r.t.bind(r,94235,23))},71020:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,5674,23)),Promise.resolve().then(r.t.bind(r,1364,23)),Promise.resolve().then(r.t.bind(r,91432,23)),Promise.resolve().then(r.t.bind(r,11939,23)),Promise.resolve().then(r.t.bind(r,52067,23)),Promise.resolve().then(r.t.bind(r,27547,23)),Promise.resolve().then(r.t.bind(r,12171,23)),Promise.resolve().then(r.t.bind(r,37813,23))},73990:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,534,23))},75845:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{db:()=>l});var s=r(48532),o=r(64939),n=r(24942),d=e([o,s]);[o,s]=d.then?(await d)():d;let i=new o.Pool({connectionString:process.env.DATABASE_URL}),l=(0,s.fd)(i,{schema:n});a()}catch(e){a(e)}})},78071:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>o});var a=r(44789);r(25555);var s=r(12522);let o={title:"Create Next App",description:"Generated by create next app"};function n({children:e}){return(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{children:(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,a.jsx)("main",{className:"flex-grow",children:e}),(0,a.jsx)(s.Toaster,{})]})})})}},83282:(e,t,r)=>{Promise.resolve().then(r.bind(r,7806))},90988:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>n});var a=r(21551),s=r(69157),o=r(72580);let n=({...e})=>{let{theme:t="system"}=(0,s.D)();return(0,a.jsx)(o.l$,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})}},95417:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{"4026c6faf4fff534480a8edefb0f35092e10ba7d9b":()=>s.$$RSC_SERVER_ACTION_1,"4085f83f7bb410cfec30724e27845509014d309f90":()=>o.O$,"409eb660156848630024827ba1bc25390cae9f7bb4":()=>s.$$RSC_SERVER_ACTION_2,"40df1fa05e361f57bf780c85d13cca0eec45385ad0":()=>s.$$RSC_SERVER_ACTION_0,"6014cb3b5be71f4634d99db1b259fd1e47855f72b1":()=>o.st,"60bc1e2f790518b2423a66f35c5017184a7960506e":()=>o.zZ});var s=r(18530),o=r(44291),n=e([s,o]);[s,o]=n.then?(await n)():n,a()}catch(e){a(e)}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[344,534,688,959],()=>r(28568));module.exports=a})();