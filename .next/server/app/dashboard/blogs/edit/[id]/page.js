(()=>{var e={};e.id=390,e.ids=[390],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3974:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{$5:()=>c,c5:()=>b,cc:()=>h,dZ:()=>p,gb:()=>f});var o=r(23650);r(64618);var a=r(12102),d=r(95384),s=r(24942),i=r(75845),l=r(22230),u=e([i]);async function c(e){let t=e.get("title"),r=e.get("content"),n=e.get("categoryId");if(!t||!r)throw Error("Title, content, and userId are required");await i.db.insert(s.blogs).values({title:t,content:r,categoryId:n?Number(n):null})}async function f(){return i.db.select().from(s.blogs).orderBy((0,a.i)(s.blogs.createdAt))}async function p(e){return(await i.db.select().from(s.blogs).where((0,d.eq)(s.blogs.id,e)))[0]||null}async function b(e,t){let r=t.get("title"),n=t.get("content");if(!r||!n)throw Error("Title and content are required");await i.db.update(s.blogs).set({title:r,content:n,updatedAt:new Date}).where((0,d.eq)(s.blogs.id,e))}async function h(e){await i.db.delete(s.blogs).where((0,d.eq)(s.blogs.id,e))}i=(u.then?(await u)():u)[0],(0,l.D)([c,f,p,b,h]),(0,o.A)(c,"402c625fce45c4b5b8af7c95166d4cbeb7944c8637",null),(0,o.A)(f,"00b87d4d3996d8684075800e264ce95d7f5f2fc4cd",null),(0,o.A)(p,"40f468b30250dc41644a67befacde482bac17a3bd2",null),(0,o.A)(b,"60c805304bdc9b03e772c8be4be392fabfaede1a38",null),(0,o.A)(h,"4013843f1950bb13d65bb470d8b4513b40fd161cfe",null),n()}catch(e){n(e)}})},5236:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(44789);let o=()=>(0,n.jsxs)("footer",{className:"bg-white dark:bg-slate-800 text-center text-xs py-4 text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700",children:["\xa9 ",new Date().getFullYear()," LETTERDROP Dashboard. All rights reserved."]}),a=()=>(0,n.jsxs)("nav",{className:"bg-white dark:bg-slate-800 shadow px-6 py-4 flex items-center justify-between",children:[(0,n.jsx)("div",{className:"text-xl font-semibold tracking-wide text-primary dark:text-white",children:"LETTERDROP Dashboard"}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Admin"}),(0,n.jsx)("button",{className:"bg-primary text-white px-3 py-1 rounded hover:opacity-90 transition",children:"Logout"})]})]});var d=r(87976),s=r.n(d);function i(){return(0,n.jsxs)("aside",{className:"w-64 bg-gray-900 text-white p-4",children:[(0,n.jsx)("h1",{className:"text-xl font-bold mb-6",children:"Dashboard"}),(0,n.jsxs)("nav",{className:"flex flex-col gap-2",children:[(0,n.jsx)(s(),{href:"/dashboard",children:"Overview"}),(0,n.jsx)(s(),{href:"/dashboard/blogs",children:"Blogs"}),(0,n.jsx)(s(),{href:"/dashboard/categories",children:"Categories"})]})]})}function l({children:e}){return(0,n.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,n.jsx)(i,{}),(0,n.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,n.jsx)(a,{}),(0,n.jsx)("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-100 dark:bg-slate-900",children:e}),(0,n.jsx)(o,{})]})]})}},5534:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,87976,23))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12406:(e,t,r)=>{Promise.resolve().then(r.bind(r,90988))},12522:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>n});let n=(0,r(55547).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/janet/Desktop/web/Letterdrop-App/src/components/ui/sonner.tsx","Toaster")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24942:(e,t,r)=>{"use strict";r.r(t),r.d(t,{account:()=>p,blogCategory:()=>h,blogCategoryRelations:()=>y,blogs:()=>m,blogsRelations:()=>v,schema:()=>_,session:()=>f,user:()=>c,usersRelations:()=>g,verification:()=>b});var n=r(88029),o=r(41664),a=r(54979),d=r(49063),s=r(79307),i=r(31370),l=r(56673),u=r(63892);let c=(0,n.cJ)("user",{id:(0,o.Qq)("id").primaryKey(),name:(0,o.Qq)("name").notNull(),email:(0,o.Qq)("email").notNull().unique(),emailVerified:(0,a.zM)("email_verified").$defaultFn(()=>!1).notNull(),image:(0,o.Qq)("image"),createdAt:(0,d.vE)("created_at").$defaultFn(()=>new Date).notNull(),updatedAt:(0,d.vE)("updated_at").$defaultFn(()=>new Date).notNull()}),f=(0,n.cJ)("session",{id:(0,o.Qq)("id").primaryKey(),expiresAt:(0,d.vE)("expires_at").notNull(),token:(0,o.Qq)("token").notNull().unique(),createdAt:(0,d.vE)("created_at").notNull(),updatedAt:(0,d.vE)("updated_at").notNull(),ipAddress:(0,o.Qq)("ip_address"),userAgent:(0,o.Qq)("user_agent"),userId:(0,o.Qq)("user_id").notNull().references(()=>c.id,{onDelete:"cascade"})}),p=(0,n.cJ)("account",{id:(0,o.Qq)("id").primaryKey(),accountId:(0,o.Qq)("account_id").notNull(),providerId:(0,o.Qq)("provider_id").notNull(),userId:(0,o.Qq)("user_id").notNull().references(()=>c.id,{onDelete:"cascade"}),accessToken:(0,o.Qq)("access_token"),refreshToken:(0,o.Qq)("refresh_token"),idToken:(0,o.Qq)("id_token"),accessTokenExpiresAt:(0,d.vE)("access_token_expires_at"),refreshTokenExpiresAt:(0,d.vE)("refresh_token_expires_at"),scope:(0,o.Qq)("scope"),password:(0,o.Qq)("password"),createdAt:(0,d.vE)("created_at").notNull(),updatedAt:(0,d.vE)("updated_at").notNull()}),b=(0,n.cJ)("verification",{id:(0,o.Qq)("id").primaryKey(),identifier:(0,o.Qq)("identifier").notNull(),value:(0,o.Qq)("value").notNull(),expiresAt:(0,d.vE)("expires_at").notNull(),createdAt:(0,d.vE)("created_at").$defaultFn(()=>new Date),updatedAt:(0,d.vE)("updated_at").$defaultFn(()=>new Date)}),h=(0,n.cJ)("blog_category",{id:(0,s.vX)("id").primaryKey(),categoryName:(0,i.yf)("category_name",{length:255}).notNull(),createdAt:(0,d.vE)("created_at").notNull().defaultNow(),updatedAt:(0,d.vE)("updated_at").notNull().defaultNow().$onUpdate(()=>new Date)}),m=(0,n.cJ)("blogs",{id:(0,s.vX)("id").primaryKey(),title:(0,i.yf)("title",{length:500}).notNull(),content:(0,o.Qq)("content").notNull(),createdAt:(0,d.vE)("created_at").notNull().defaultNow(),updatedAt:(0,d.vE)("updated_at").notNull().defaultNow().$onUpdate(()=>new Date),categoryId:(0,l.nd)("category_id").references(()=>h.id,{onDelete:"set null"})}),_={user:c,session:f,account:p,verification:b},g=(0,u.K1)(c,({many:e})=>({blogs:e(m)})),y=(0,u.K1)(h,({many:e})=>({blogs:e(m)})),v=(0,u.K1)(m,({one:e})=>({category:e(h,{fields:[m.categoryId],references:[h.id]})}))},25555:()=>{},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35979:()=>{},37010:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,d.isNextRouterError)(t)||(0,a.isBailoutToCSRError)(t)||(0,i.isDynamicServerError)(t)||(0,s.isDynamicPostpone)(t)||(0,o.isPostpone)(t)||(0,n.isHangingPromiseRejectionError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=r(7412),o=r(55277),a=r(55798),d=r(33642),s=r(91707),i=r(38175);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},40051:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return n}});let n=r(37010).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},49358:(e,t,r)=>{Promise.resolve().then(r.bind(r,12522))},52072:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{$$RSC_SERVER_ACTION_0:()=>b,default:()=>p});var o=r(44789),a=r(23650),d=r(64618),s=r(3974),i=r(75845),l=r(24942),u=r(52959),c=r(81436),f=e([s,i]);[s,i]=f.then?(await f)():f;let b=async function(e,t){var[r]=await (0,d.decryptActionBoundArgs)("607dfb2f6721a45eaf7684c650589eeff3604e4af5",e);await (0,s.c5)(r,t),(0,u.revalidatePath)("/dashboard/blogs")};async function p({params:e}){let t=parseInt(e.id),r=await (0,s.dZ)(t),n=await i.db.select().from(l.blogCategory);if(!r)return(0,c.notFound)();var u=(0,a.A)(b,"607dfb2f6721a45eaf7684c650589eeff3604e4af5",null).bind(null,(0,d.encryptActionBoundArgs)("607dfb2f6721a45eaf7684c650589eeff3604e4af5",t));return(0,o.jsxs)("div",{className:"max-w-3xl mx-auto p-6",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Edit Blog Post"}),(0,o.jsxs)("form",{action:u,className:"flex flex-col gap-4 bg-white p-6 rounded shadow-md",children:[(0,o.jsx)("input",{type:"text",name:"title",defaultValue:r.title,required:!0,className:"border px-3 py-2 rounded"}),(0,o.jsx)("textarea",{name:"content",defaultValue:r.content,required:!0,rows:6,className:"border px-3 py-2 rounded resize-y"}),(0,o.jsxs)("select",{name:"categoryId",defaultValue:r.categoryId??"",className:"border px-3 py-2 rounded",children:[(0,o.jsx)("option",{value:"",children:"Select a category"}),n.map(e=>(0,o.jsx)("option",{value:e.id,children:e.categoryName},e.id))]}),(0,o.jsx)("button",{type:"submit",className:"bg-gradient-to-r from-slate-700 to-slate-900 text-white font-semibold px-6 py-2 rounded-xl shadow-md hover:from-slate-800 hover:to-slate-950 transition-all duration-200 ease-in-out",children:"Update"})]})]})}n()}catch(e){n(e)}})},52225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return d},getRedirectStatusCodeFromError:function(){return c},getRedirectTypeFromError:function(){return u},getURLFromRedirectError:function(){return l},permanentRedirect:function(){return i},redirect:function(){return s}});let n=r(3348),o=r(62098),a=r(19121).actionAsyncStorage;function d(e,t,r){void 0===r&&(r=n.RedirectStatusCode.TemporaryRedirect);let a=Object.defineProperty(Error(o.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a.digest=o.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",a}function s(e,t){var r;throw null!=t||(t=(null==a||null==(r=a.getStore())?void 0:r.isAction)?o.RedirectType.push:o.RedirectType.replace),d(e,t,n.RedirectStatusCode.TemporaryRedirect)}function i(e,t){throw void 0===t&&(t=o.RedirectType.replace),d(e,t,n.RedirectStatusCode.PermanentRedirect)}function l(e){return(0,o.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function u(e){if(!(0,o.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function c(e){if(!(0,o.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},52824:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return u},RedirectType:function(){return o.RedirectType},forbidden:function(){return d.forbidden},notFound:function(){return a.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect},unauthorized:function(){return s.unauthorized},unstable_rethrow:function(){return i.unstable_rethrow}});let n=r(52225),o=r(62098),a=r(71197),d=r(96416),s=r(62691),i=r(40051);class l extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class u extends URLSearchParams{append(){throw new l}delete(){throw new l}set(){throw new l}sort(){throw new l}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},62691:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return n}}),r(96304).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64266:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>d.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>f,tree:()=>l});var n=r(6855),o=r(99880),a=r(44858),d=r.n(a),s=r(84637),i={};for(let e in s)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>s[e]);r.d(t,i);let l={children:["",{children:["dashboard",{children:["blogs",{children:["edit",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,52072)),"/home/janet/Desktop/web/Letterdrop-App/src/app/dashboard/blogs/edit/[id]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5236)),"/home/janet/Desktop/web/Letterdrop-App/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,78071)),"/home/janet/Desktop/web/Letterdrop-App/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,89254,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,55007,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,42260,23)),"next/dist/client/components/unauthorized-error"]}]}.children,u=["/home/janet/Desktop/web/Letterdrop-App/src/app/dashboard/blogs/edit/[id]/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/dashboard/blogs/edit/[id]/page",pathname:"/dashboard/blogs/edit/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},64939:e=>{"use strict";e.exports=import("pg")},64940:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2796,23)),Promise.resolve().then(r.t.bind(r,47514,23)),Promise.resolve().then(r.t.bind(r,44858,23)),Promise.resolve().then(r.t.bind(r,7893,23)),Promise.resolve().then(r.t.bind(r,83825,23)),Promise.resolve().then(r.t.bind(r,169,23)),Promise.resolve().then(r.t.bind(r,45889,23)),Promise.resolve().then(r.t.bind(r,94235,23))},71020:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,5674,23)),Promise.resolve().then(r.t.bind(r,1364,23)),Promise.resolve().then(r.t.bind(r,91432,23)),Promise.resolve().then(r.t.bind(r,11939,23)),Promise.resolve().then(r.t.bind(r,52067,23)),Promise.resolve().then(r.t.bind(r,27547,23)),Promise.resolve().then(r.t.bind(r,12171,23)),Promise.resolve().then(r.t.bind(r,37813,23))},71197:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return o}});let n=""+r(96304).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function o(){let e=Object.defineProperty(Error(n),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=n,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},73990:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,534,23))},75845:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{db:()=>l});var o=r(48532),a=r(64939),d=r(24942),s=e([a,o]);[a,o]=s.then?(await s)():s;let i=new a.Pool({connectionString:process.env.DATABASE_URL}),l=(0,o.fd)(i,{schema:d});n()}catch(e){n(e)}})},76209:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{"00b87d4d3996d8684075800e264ce95d7f5f2fc4cd":()=>a.gb,"4013843f1950bb13d65bb470d8b4513b40fd161cfe":()=>a.cc,"402c625fce45c4b5b8af7c95166d4cbeb7944c8637":()=>a.$5,"40f468b30250dc41644a67befacde482bac17a3bd2":()=>a.dZ,"607dfb2f6721a45eaf7684c650589eeff3604e4af5":()=>o.$$RSC_SERVER_ACTION_0,"60c805304bdc9b03e772c8be4be392fabfaede1a38":()=>a.c5});var o=r(52072),a=r(3974),d=e([o,a]);[o,a]=d.then?(await d)():d,n()}catch(e){n(e)}})},78071:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>a});var n=r(44789);r(25555);var o=r(12522);let a={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return(0,n.jsx)("html",{lang:"en",children:(0,n.jsx)("body",{children:(0,n.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,n.jsx)("main",{className:"flex-grow",children:e}),(0,n.jsx)(o.Toaster,{})]})})})}},81436:(e,t,r)=>{"use strict";var n=r(52824);r.o(n,"notFound")&&r.d(t,{notFound:function(){return n.notFound}})},90988:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>d});var n=r(21551),o=r(69157),a=r(72580);let d=({...e})=>{let{theme:t="system"}=(0,o.D)();return(0,n.jsx)(a.l$,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})}},95651:()=>{},96416:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return n}}),r(96304).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[344,534,688,959],()=>r(64266));module.exports=n})();