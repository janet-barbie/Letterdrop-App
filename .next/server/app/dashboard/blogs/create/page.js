(()=>{var e={};e.id=572,e.ids=[572],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3974:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{$5:()=>u,c5:()=>h,cc:()=>m,dZ:()=>p,gb:()=>b});var s=r(23650);r(64618);var o=r(12102),n=r(95384),d=r(24942),l=r(75845),i=r(22230),c=e([l]);async function u(e){let t=e.get("title"),r=e.get("content"),a=e.get("categoryId");if(!t||!r)throw Error("Title, content, and userId are required");await l.db.insert(d.blogs).values({title:t,content:r,categoryId:a?Number(a):null})}async function b(){return l.db.select().from(d.blogs).orderBy((0,o.i)(d.blogs.createdAt))}async function p(e){return(await l.db.select().from(d.blogs).where((0,n.eq)(d.blogs.id,e)))[0]||null}async function h(e,t){let r=t.get("title"),a=t.get("content");if(!r||!a)throw Error("Title and content are required");await l.db.update(d.blogs).set({title:r,content:a,updatedAt:new Date}).where((0,n.eq)(d.blogs.id,e))}async function m(e){await l.db.delete(d.blogs).where((0,n.eq)(d.blogs.id,e))}l=(c.then?(await c)():c)[0],(0,i.D)([u,b,p,h,m]),(0,s.A)(u,"402c625fce45c4b5b8af7c95166d4cbeb7944c8637",null),(0,s.A)(b,"00b87d4d3996d8684075800e264ce95d7f5f2fc4cd",null),(0,s.A)(p,"40f468b30250dc41644a67befacde482bac17a3bd2",null),(0,s.A)(h,"60c805304bdc9b03e772c8be4be392fabfaede1a38",null),(0,s.A)(m,"4013843f1950bb13d65bb470d8b4513b40fd161cfe",null),a()}catch(e){a(e)}})},5236:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(44789);let s=()=>(0,a.jsxs)("footer",{className:"bg-white dark:bg-slate-800 text-center text-xs py-4 text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700",children:["\xa9 ",new Date().getFullYear()," LETTERDROP Dashboard. All rights reserved."]}),o=()=>(0,a.jsxs)("nav",{className:"bg-white dark:bg-slate-800 shadow px-6 py-4 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-xl font-semibold tracking-wide text-primary dark:text-white",children:"LETTERDROP Dashboard"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Admin"}),(0,a.jsx)("button",{className:"bg-primary text-white px-3 py-1 rounded hover:opacity-90 transition",children:"Logout"})]})]});var n=r(87976),d=r.n(n);function l(){return(0,a.jsxs)("aside",{className:"w-64 bg-gray-900 text-white p-4",children:[(0,a.jsx)("h1",{className:"text-xl font-bold mb-6",children:"Dashboard"}),(0,a.jsxs)("nav",{className:"flex flex-col gap-2",children:[(0,a.jsx)(d(),{href:"/dashboard",children:"Overview"}),(0,a.jsx)(d(),{href:"/dashboard/blogs",children:"Blogs"}),(0,a.jsx)(d(),{href:"/dashboard/categories",children:"Categories"})]})]})}function i({children:e}){return(0,a.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,a.jsx)(l,{}),(0,a.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,a.jsx)(o,{}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-100 dark:bg-slate-900",children:e}),(0,a.jsx)(s,{})]})]})}},5534:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,87976,23))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11231:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{"00b87d4d3996d8684075800e264ce95d7f5f2fc4cd":()=>o.gb,"4013843f1950bb13d65bb470d8b4513b40fd161cfe":()=>o.cc,"40166dd0121a332c79bfee0e808df2a083fce60b40":()=>s.$$RSC_SERVER_ACTION_0,"402c625fce45c4b5b8af7c95166d4cbeb7944c8637":()=>o.$5,"40f468b30250dc41644a67befacde482bac17a3bd2":()=>o.dZ,"60c805304bdc9b03e772c8be4be392fabfaede1a38":()=>o.c5});var s=r(51212),o=r(3974),n=e([s,o]);[s,o]=n.then?(await n)():n,a()}catch(e){a(e)}})},12406:(e,t,r)=>{Promise.resolve().then(r.bind(r,90988))},12522:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>a});let a=(0,r(55547).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/janet/Desktop/web/Letterdrop-App/src/components/ui/sonner.tsx","Toaster")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24942:(e,t,r)=>{"use strict";r.r(t),r.d(t,{account:()=>p,blogCategory:()=>m,blogCategoryRelations:()=>v,blogs:()=>f,blogsRelations:()=>y,schema:()=>x,session:()=>b,user:()=>u,usersRelations:()=>g,verification:()=>h});var a=r(88029),s=r(41664),o=r(54979),n=r(49063),d=r(79307),l=r(31370),i=r(56673),c=r(63892);let u=(0,a.cJ)("user",{id:(0,s.Qq)("id").primaryKey(),name:(0,s.Qq)("name").notNull(),email:(0,s.Qq)("email").notNull().unique(),emailVerified:(0,o.zM)("email_verified").$defaultFn(()=>!1).notNull(),image:(0,s.Qq)("image"),createdAt:(0,n.vE)("created_at").$defaultFn(()=>new Date).notNull(),updatedAt:(0,n.vE)("updated_at").$defaultFn(()=>new Date).notNull()}),b=(0,a.cJ)("session",{id:(0,s.Qq)("id").primaryKey(),expiresAt:(0,n.vE)("expires_at").notNull(),token:(0,s.Qq)("token").notNull().unique(),createdAt:(0,n.vE)("created_at").notNull(),updatedAt:(0,n.vE)("updated_at").notNull(),ipAddress:(0,s.Qq)("ip_address"),userAgent:(0,s.Qq)("user_agent"),userId:(0,s.Qq)("user_id").notNull().references(()=>u.id,{onDelete:"cascade"})}),p=(0,a.cJ)("account",{id:(0,s.Qq)("id").primaryKey(),accountId:(0,s.Qq)("account_id").notNull(),providerId:(0,s.Qq)("provider_id").notNull(),userId:(0,s.Qq)("user_id").notNull().references(()=>u.id,{onDelete:"cascade"}),accessToken:(0,s.Qq)("access_token"),refreshToken:(0,s.Qq)("refresh_token"),idToken:(0,s.Qq)("id_token"),accessTokenExpiresAt:(0,n.vE)("access_token_expires_at"),refreshTokenExpiresAt:(0,n.vE)("refresh_token_expires_at"),scope:(0,s.Qq)("scope"),password:(0,s.Qq)("password"),createdAt:(0,n.vE)("created_at").notNull(),updatedAt:(0,n.vE)("updated_at").notNull()}),h=(0,a.cJ)("verification",{id:(0,s.Qq)("id").primaryKey(),identifier:(0,s.Qq)("identifier").notNull(),value:(0,s.Qq)("value").notNull(),expiresAt:(0,n.vE)("expires_at").notNull(),createdAt:(0,n.vE)("created_at").$defaultFn(()=>new Date),updatedAt:(0,n.vE)("updated_at").$defaultFn(()=>new Date)}),m=(0,a.cJ)("blog_category",{id:(0,d.vX)("id").primaryKey(),categoryName:(0,l.yf)("category_name",{length:255}).notNull(),createdAt:(0,n.vE)("created_at").notNull().defaultNow(),updatedAt:(0,n.vE)("updated_at").notNull().defaultNow().$onUpdate(()=>new Date)}),f=(0,a.cJ)("blogs",{id:(0,d.vX)("id").primaryKey(),title:(0,l.yf)("title",{length:500}).notNull(),content:(0,s.Qq)("content").notNull(),createdAt:(0,n.vE)("created_at").notNull().defaultNow(),updatedAt:(0,n.vE)("updated_at").notNull().defaultNow().$onUpdate(()=>new Date),categoryId:(0,i.nd)("category_id").references(()=>m.id,{onDelete:"set null"})}),x={user:u,session:b,account:p,verification:h},g=(0,c.K1)(u,({many:e})=>({blogs:e(f)})),v=(0,c.K1)(m,({many:e})=>({blogs:e(f)})),y=(0,c.K1)(f,({one:e})=>({category:e(m,{fields:[f.categoryId],references:[m.id]})}))},25555:()=>{},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35979:()=>{},49358:(e,t,r)=>{Promise.resolve().then(r.bind(r,12522))},51212:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{$$RSC_SERVER_ACTION_0:()=>b,default:()=>u});var s=r(44789),o=r(23650);r(64618);var n=r(3974),d=r(75845),l=r(24942),i=r(52959),c=e([n,d]);[n,d]=c.then?(await c)():c;let b=async function(e){await (0,n.$5)(e),(0,i.revalidatePath)("/dashboard/blogs")};async function u(){let e=await d.db.select().from(l.blogCategory);var t=(0,o.A)(b,"40166dd0121a332c79bfee0e808df2a083fce60b40",null);return(0,s.jsxs)("div",{className:"max-w-3xl mx-auto p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Create Blog Post"}),(0,s.jsxs)("form",{action:t,className:"flex flex-col gap-4 bg-white p-6 rounded shadow-md",children:[(0,s.jsx)("input",{type:"text",name:"title",placeholder:"Title",required:!0,className:"border px-3 py-2 rounded"}),(0,s.jsx)("textarea",{name:"content",placeholder:"Write your blog content here...",required:!0,rows:6,className:"border px-3 py-2 rounded resize-y"}),(0,s.jsxs)("select",{name:"categoryId",required:!0,className:"border px-3 py-2 rounded",defaultValue:"",children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Select a category"}),e.map(e=>(0,s.jsx)("option",{value:e.id,children:e.categoryName},e.id))]}),(0,s.jsx)("button",{type:"submit",className:"bg-gradient-to-r from-slate-700 to-slate-900 text-white font-semibold px-6 py-2 rounded-xl shadow-md hover:from-slate-800 hover:to-slate-950 transition-all duration-200 ease-in-out",children:"Publish"})]})]})}a()}catch(e){a(e)}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64939:e=>{"use strict";e.exports=import("pg")},64940:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2796,23)),Promise.resolve().then(r.t.bind(r,47514,23)),Promise.resolve().then(r.t.bind(r,44858,23)),Promise.resolve().then(r.t.bind(r,7893,23)),Promise.resolve().then(r.t.bind(r,83825,23)),Promise.resolve().then(r.t.bind(r,169,23)),Promise.resolve().then(r.t.bind(r,45889,23)),Promise.resolve().then(r.t.bind(r,94235,23))},71020:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,5674,23)),Promise.resolve().then(r.t.bind(r,1364,23)),Promise.resolve().then(r.t.bind(r,91432,23)),Promise.resolve().then(r.t.bind(r,11939,23)),Promise.resolve().then(r.t.bind(r,52067,23)),Promise.resolve().then(r.t.bind(r,27547,23)),Promise.resolve().then(r.t.bind(r,12171,23)),Promise.resolve().then(r.t.bind(r,37813,23))},73990:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,534,23))},75845:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{db:()=>i});var s=r(48532),o=r(64939),n=r(24942),d=e([o,s]);[o,s]=d.then?(await d)():d;let l=new o.Pool({connectionString:process.env.DATABASE_URL}),i=(0,s.fd)(l,{schema:n});a()}catch(e){a(e)}})},78071:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>o});var a=r(44789);r(25555);var s=r(12522);let o={title:"Create Next App",description:"Generated by create next app"};function n({children:e}){return(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{children:(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,a.jsx)("main",{className:"flex-grow",children:e}),(0,a.jsx)(s.Toaster,{})]})})})}},90708:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>b,tree:()=>i});var a=r(6855),s=r(99880),o=r(44858),n=r.n(o),d=r(84637),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);r.d(t,l);let i={children:["",{children:["dashboard",{children:["blogs",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,51212)),"/home/janet/Desktop/web/Letterdrop-App/src/app/dashboard/blogs/create/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5236)),"/home/janet/Desktop/web/Letterdrop-App/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,78071)),"/home/janet/Desktop/web/Letterdrop-App/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,89254,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,55007,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,42260,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/janet/Desktop/web/Letterdrop-App/src/app/dashboard/blogs/create/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},b=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/dashboard/blogs/create/page",pathname:"/dashboard/blogs/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},90988:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>n});var a=r(21551),s=r(69157),o=r(72580);let n=({...e})=>{let{theme:t="system"}=(0,s.D)();return(0,a.jsx)(o.l$,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})}},95651:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[344,534,688,959],()=>r(90708));module.exports=a})();